<!-- templates/map.html -->

<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>VRF {{ vrf.name or 'Global' }}, prefix {{ prefix }}</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">
    <script>
        const BASE_PATH = "{{ base_path }}";
    </script>
    <script src="{{ url_for('static', filename='js/prefix_tree.js') }}" defer></script>
</head>

<body>
    <div class="navbar">
        <div class="navbar-brand">
            <a href="/">Prefix Map</a>
        </div>
    </div>
    <div class="container">
        <div class="sidebar">
            <h2>Prefixes</h2>
            <div id="prefix-tree">Loading...</div>
        </div>
        <div class="content">
            <h1>{{ prefix }}</h1>
            <div id="map-container">
                <img id="map-image" src="{{ base_path }}/images/{{ image_filename }}" alt="Prefix Map">
            </div>
            <div id="prefix-details">
                <h2>Prefix Details</h2>
                <table>
                    <tr>
                        <th>Prefix</th>
                        <td><a href="{{ netbox_url }}/ipam/prefixes/{{ prefix_id }}/">{{ prefix }}</a></td>
                    </tr>
                    {% if vrf %}
                    <tr>
                        <th>VRF</th>
                        <td><a href="{{ netbox_url }}/ipam/vrfs/{{ vrf.id }}/">{{ vrf.name }}</a> {{ vrf.description }}
                        </td>
                        </td>
                    </tr>
                    {% endif %}
                </table>
            </div>
        </div>
    </div>
</body>

</html>